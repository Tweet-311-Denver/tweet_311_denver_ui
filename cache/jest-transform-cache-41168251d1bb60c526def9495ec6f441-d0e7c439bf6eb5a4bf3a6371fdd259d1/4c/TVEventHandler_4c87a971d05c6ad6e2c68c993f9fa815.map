{"version":3,"sources":["TVEventHandler.js"],"names":["Platform","require","NativeEventEmitter","TVEventHandler","__nativeTVNavigationEventListener","__nativeTVNavigationEventEmitter","prototype","enable","component","callback","OS","NativeTVNavigationEventEmitter","addListener","data","disable","remove","module","exports"],"mappings":"AAUA;;;;AAKA;;AAHA,IAAMA,QAAQ,GAAGC,OAAO,4BAAxB;;AACA,IAAMC,kBAAkB,GAAGD,OAAO,yCAAlC;;AAIA,SAASE,cAAT,GAA0B;AACxB,OAAKC,iCAAL,GAAyC,IAAzC;AACA,OAAKC,gCAAL,GAAwC,IAAxC;AACD;;AAEDF,cAAc,CAACG,SAAf,CAAyBC,MAAzB,GAAkC,UAChCC,SADgC,EAEhCC,QAFgC,EAGhC;AACA,MAAIT,QAAQ,CAACU,EAAT,KAAgB,KAAhB,IAAyB,CAACC,uCAA9B,EAA8D;AAC5D;AACD;;AAED,OAAKN,gCAAL,GAAwC,IAAIH,kBAAJ,CACtCS,uCADsC,CAAxC;AAGA,OAAKP,iCAAL,GAAyC,KAAKC,gCAAL,CAAsCO,WAAtC,CACvC,cADuC,EAEvC,UAAAC,IAAI,EAAI;AACN,QAAIJ,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACD,SAAD,EAAYK,IAAZ,CAAR;AACD;AACF,GANsC,CAAzC;AAQD,CAnBD;;AAqBAV,cAAc,CAACG,SAAf,CAAyBQ,OAAzB,GAAmC,YAAW;AAC5C,MAAI,KAAKV,iCAAT,EAA4C;AAC1C,SAAKA,iCAAL,CAAuCW,MAAvC;;AACA,WAAO,KAAKX,iCAAZ;AACD;;AACD,MAAI,KAAKC,gCAAT,EAA2C;AACzC,WAAO,KAAKA,gCAAZ;AACD;AACF,CARD;;AAUAW,MAAM,CAACC,OAAP,GAAiBd,cAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst Platform = require('../../Utilities/Platform');\nconst NativeEventEmitter = require('../../EventEmitter/NativeEventEmitter');\n\nimport NativeTVNavigationEventEmitter from './NativeTVNavigationEventEmitter';\n\nfunction TVEventHandler() {\n  this.__nativeTVNavigationEventListener = null;\n  this.__nativeTVNavigationEventEmitter = null;\n}\n\nTVEventHandler.prototype.enable = function(\n  component: ?any,\n  callback: Function,\n) {\n  if (Platform.OS === 'ios' && !NativeTVNavigationEventEmitter) {\n    return;\n  }\n\n  this.__nativeTVNavigationEventEmitter = new NativeEventEmitter(\n    NativeTVNavigationEventEmitter,\n  );\n  this.__nativeTVNavigationEventListener = this.__nativeTVNavigationEventEmitter.addListener(\n    'onHWKeyEvent',\n    data => {\n      if (callback) {\n        callback(component, data);\n      }\n    },\n  );\n};\n\nTVEventHandler.prototype.disable = function() {\n  if (this.__nativeTVNavigationEventListener) {\n    this.__nativeTVNavigationEventListener.remove();\n    delete this.__nativeTVNavigationEventListener;\n  }\n  if (this.__nativeTVNavigationEventEmitter) {\n    delete this.__nativeTVNavigationEventEmitter;\n  }\n};\n\nmodule.exports = TVEventHandler;\n"]}